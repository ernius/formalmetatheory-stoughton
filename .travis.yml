language: haskell

ghc:
  - 7.8

cache:
  directories:
  - $HOME/.ghc
  - $HOME/.cabal
  - $HOME/.stack

before_install:
#  - zlib1g-dev 
#  - libncurses5-dev

install:
  - cabal install cabal-install
  - export PATH=$HOME/.cabal/bin:$PATH
  - mkdir $HOME/stdlib/

  # Showing Cabal configuration
  #- echo ' ' >> $HOME/.cabal/config
  #- echo 'program-default-options' >> $HOME/.cabal/config
  #- echo '  ghc-options: -pgmPcpphs -optP--cpp' >> $HOME/.cabal/config
  #- cat $HOME/.cabal/config

  # New Happy needed for haskell-src-exts
  - cabal install happy

  # New new Alex for us
  - cabal install alex
  - cabal install cpphs

  - cabal install Agda-2.4.2.5
  - wget https://github.com/agda/agda-stdlib/archive/2.4.2.5.zip $HOME/stdlib/2.4.2.5.zip
  - unzip $HOME/stdlib/2.4.2.5.zip 

script:
  - agda -i . -i $HOME/stdlib/agda-stdlib-2.4.2.5/src/ ChurchRosser.lagda


notifications:
  email: false

